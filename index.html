<!DOCTYPE html>
<html>
        <head>
                <meta charset=utf-8>
                <title>Three.js app</title>
                <style>
                        body { margin: 0; }
                        canvas { width: 100%; height: 100% }
                </style>
        </head>
        <body>
                <script src="js/threejs/three.js"></script>
                <script src="js/threejs/orbitControls.js"></script>
                <script src="js/priority-queue/priority-queue.js"></script>

                <script src="js/game/CollisionGame.js?v=3"></script>
                <script src="js/game/collision/CollisionUtils.js?v=3"></script>


                <script src="js/game/shapes/Wall.js?v=3"></script>
                <script src="js/game/shapes/Ball.js?v=3"></script>

                <script src="js/game/eventbus/EventBus.js?v=3"></script>
                <script src="js/game/eventbus/Predicate.js?v=3"></script>
                <script src="js/game/eventbus/Subscription.js?v=3"></script>

                <script src="js/game/eventbus/events/GameEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/TickerEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/MovementEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/PredictionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/BallToWallCollisionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/BallToHorizontalWallCollisionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/BallToSideWallCollisionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/BallToVerticalWallCollisionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/BallToBallCollisionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/BallCollisionReactionEvent.js?v=3"></script>
                <script src="js/game/eventbus/events/ControlledBallChangeDirectionEvent.js?v=3"></script>

                <script src="js/game/eventbus/listeners/EventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/TickerEventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/MovementEventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/PredictionEventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/BallToWallCollisionEventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/BallToBallCollisionEventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/BallCollisionReactionEventListener.js?v=3"></script>
                <script src="js/game/eventbus/listeners/ControlledBallChangeDirectionEventListener.js?v=3"></script>

                <script>
                        var urlParams = new URLSearchParams(window.location.search);
                        var ballsCount = urlParams.has('balls') ? urlParams.get('balls') : 20;

                        var game = new CollisionGame(ballsCount);
                        game.init();
                        var animate = function () {
                          requestAnimationFrame( animate );
                          game.loop();
                        };
                        animate();
                </script>
        </body>
</html>
